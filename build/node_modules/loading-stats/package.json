{
  "author": {
    "name": "Henrik Joreteg",
    "email": "henrik@andyet.net"
  },
  "name": "loading-stats",
  "description": "For tracking web app loading performance for single page apps.",
  "version": "0.0.2",
  "tags": [
    "browser",
    "clientmodules",
    "webapps"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/henrikjoreteg/loading-stats.git"
  },
  "devDependencies": {
    "precommit-hook": "0.3.4"
  },
  "scripts": {
    "test": "node test.js"
  },
  "main": "./loading-stats.js",
  "readme": "# loading-stats\n\nGetting real-world performance metrics from deployed single page webapps is super useful. \n\nYou can see how caching strategies affect load times and also make sure you're not causing speed regressions over time. When you're working on localhost or fast internet you may do things that seem like acceptable speed tradeoffs that actually are significantly more impactful for your users who may be on slower connections. By having these metrics reported back from each user you can very quickly get great perspective on how your app is performing for people.\n\nThis is a very simple client side module (compatible with [clientmodules](https://github.com/henrikjoreteg/clientmodules) and [browserify](https://github.com/substack/node-browserify)) for tracking that load time and the various pieces of it and is designed to be used for reporting back to a metrics service. At &yet we send this as metadata for our \"applicationLoaded\" event that gets sent to (usually) mixpanel. But which one doesn't really matter, this just tracks the times and reports them. \n\nUltimately this approach is still flawed. The real way to do this is using the HTML5 performance API: http://www.html5rocks.com/en/tutorials/webperformance/basics/.\n\nThe trick is, it isn't basically only available in Chrome at the moment, which doesn't give us a very complete picture. So we do this for now to get some idea. I'm trying to figure out a good way to use the performance API if it exists without muddying up the data here.\n\nAnyway, here's how it works.\n\n\n## How to use it\n\nAdd this bit of vanilla JS to your base HTML as high up in the `<head>` as you can. To get as accurate of a load start time as possible:\n\n```html\n<!DOCTYPE html>\n<script>window.times = {start: Date.now()};</script>\n<script src=\"app.js\"></script>\n```\n\nThen at various points that you want to track within your app's load sequence, just call `recordTime()` with whatever description makes sense for your app:\n\n\n```js\n// require our module\nvar loadStats = require('loading-stats');\n\n// for example\nloadStats.recordTime('begin launch sequence');\n\n// sometime later you may do...\nloadStats.recordTime('initial data fetched');\n\n// then get your summary and send it off to your\n// metrics service. For example\nmixpanel.track('web app loaded', loadStats.getSummary());\n\n/*\nthe .getSummary(); method will return an object\nthat looks like this. With each event being miliseconds\nfrom the start time we put in our HTML above.\n\n{\n    'begin launch sequence': 100,\n    'begin launch sequence': 323,\n    'fully loaded': 431\n}\n*/\n\n```\n\nThere's also a `recordStat` that just takes a name/value. Say you want to count bytes of initial data or something.\n\n```js\n\nvar loadStats = require('loading-stats');\n\n// this just adds it in so when you call .getSummary()\n// this will be listed in there too. \nloadStats.recordStat('number of teams', teams.length);\n\n```\n\nThis is useful since additional stats about the amount of data we're pulling down or if they're a power user who has gobs of data, that will help give context to and explain the longer load times.\n\n\n## Getting *real* stats in the wild is awesome\n\nyup.\n\n\n## Installing\n\n```\nnpm i loading-stats\n```\n\nAdd it to your clientmodules or user browserify to include it in your app. voila!\n\n\n## Feedback\n\nIf you dig it, follow [@HenrikJoreteg](http://twitter.com/henrikjoreteg) on the twitterwebs. If not, file issues or send pull requests :)\n\n## License\n\nMIT\n",
  "readmeFilename": "readme.md",
  "bugs": {
    "url": "https://github.com/henrikjoreteg/loading-stats/issues"
  },
  "homepage": "https://github.com/henrikjoreteg/loading-stats",
  "_id": "loading-stats@0.0.2",
  "dist": {
    "shasum": "230d3196936b910a8c1c75c7e55a15ebc7668575"
  },
  "_from": "loading-stats@0.0.2",
  "_resolved": "http://registry.npmjs.org/loading-stats/-/loading-stats-0.0.2.tgz"
}
